<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="./style.css" />
    <title>Apartment Finder</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
        <button
          class="btn-custom rounded-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapseChat"
          aria-expanded="false"
          aria-controls="collapseChat"
        >
          Chat with our ChatGPT powered ChatBot!
        </button>
        <div class="collapse bg-white border rounded-0" id="collapseChat">
          <div class="card card-body mb-2 rounded-0">
            <div class="d-flex flex-column mb-3">
              <div class="bg-orange text-white p-1 mb-1">
                Hi there! How can we help you today?
              </div>
            </div>
            <div id="messages" class="my-4"></div>
            <form>
              <div class="form-group">
                <label for="message">Message:</label>
                <input
                  type="text"
                  class="form-control"
                  id="message"
                  placeholder="Enter message"
                />
              </div>
              <button type="submit" class="btn-custom mt-2" id="send-btn">
                Send
              </button>
            </form>
          </div>
        </div>
      </div>

      <div class="row flex-nowrap">
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
          <div
            class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100"
          >
            <a
              href="/"
              class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none"
            >
              <span class="fs-5 d-none d-sm-inline">Ap Rental</span>
            </a>
            <ul
              class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start"
              id="menu"
            >
              <li class="nav-item">
                <a href="/profile.html" class="nav-link align-middle px-0">
                  <i class="fs-4 bi-house"></i>
                  <span class="ms-1 d-none d-sm-inline">My Profile</span>
                </a>
              </li>
              <li>
                <a href="/filter.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline"
                    >Search Appartments</span
                  >
                </a>
              </li>
              <li>
                <a href="/search-map.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline">Search By Map</span>
                </a>
              </li>
              <li>
                <a href="/index.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline"
                    >Rent Affordability Calculator</span
                  >
                </a>
              </li>
              <li>
                <a
                  href="/appartment-details.html"
                  class="nav-link px-0 align-middle"
                >
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline">Apt Pages</span>
                </a>
              </li>
              <li>
                <a href="/contactus.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline">Contact Us</span>
                </a>
              </li>
              <li>
                <a href="/Sign-up.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-table"></i>
                  <span class="ms-1 d-none d-sm-inline">Logout</span></a
                >
              </li>
            </ul>
            <!-- <hr />
            <div class="dropdown pb-4">
              <a
                href="#"
                class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
                id="dropdownUser1"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  src="https://github.com/mdo.png"
                  alt="hugenerd"
                  width="30"
                  height="30"
                  class="rounded-circle"
                />
                <span class="d-none d-sm-inline mx-1">loser</span>
              </a>
              <ul
                class="dropdown-menu dropdown-menu-dark text-small shadow"
                aria-labelledby="dropdownUser1"
              >
                <li><a class="dropdown-item" href="#">New project...</a></li>
                <li><a class="dropdown-item" href="#">Settings</a></li>
                <li><a class="dropdown-item" href="#">Profile</a></li>
                <li>
                  <hr class="dropdown-divider" />
                </li>
                <li><a class="dropdown-item" href="#">Sign out</a></li>
              </ul>
            </div> -->
          </div>
        </div>
        <div class="col p-0">
          <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img
                  src="./assets/logo.png"
                  alt=""
                  width="60"
                  height="44"
                  class="d-inline-block align-text-top fw-bolder"
                />
                Ap Rental
              </a>
              <ul
                class="navbar-nav d-flex align-item-center flex-row ms-auto mb-2 mb-lg-0"
              >
                <li class="nav-item me-3">
                  <a class="nav-link" href="/profile.html">
                    <i class="fa fa-envelope"></i>
                  </a>
                </li>
                <li class="nav-item me-3">
                  <a class="nav-link" href="/profile.html">
                    <i class="fa fa-bell"></i>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link fw-normal" href="/profile.html">
                    Magnus Prime
                    <img
                      src="./assets/person.png"
                      alt="Profile Logo"
                      class="rounded-circle"
                      width="40"
                      height="40"
                    />
                  </a>
                </li>
              </ul>
            </div>
          </nav>
          <div class="container mt-3">
            <h1>Rent Affordability Calculator</h1>
            <hr />
            <div class="card p-3">
              <form>
                <div class="mb-3">
                  <label for="address" class="form-label"
                    >LOCATION / CITY / ZIPCODE</label
                  >
                  <textarea
                    class="form-control"
                    id="address"
                    rows="3"
                  ></textarea>
                </div>
                <div class="row">
                  <div class="mb-3 col-4">
                    <label for="country" class="form-label"
                      >Discounts OR Promotions</label
                    >
                    <select class="form-select" id="country">
                      <option value="">Select Option</option>
                      <option value="us">Option 1</option>
                      <option value="ca">Option 2</option>
                      <option value="uk">Option 3</option>
                    </select>
                  </div>
                  <div class="mb-3 col-4"></div>
                  <div class="mb-3 col-4">
                    <label for="state" class="form-label"
                      >Additional Bounses</label
                    >
                    <select class="form-select" id="state">
                      <option value="">Select Option</option>
                      <option value="us">Option 1</option>
                      <option value="ca">Option 2</option>
                      <option value="uk">Option 3</option>
                    </select>
                  </div>
                </div>
                <div class="mb-3 d-flex justify-content-end">
                  <button class="btn-custom" type="button">More Options</button>
                </div>
                <div class="mb-3 d-flex justify-content-center">
                  <button type="button" class="btn-custom">Calculate</button>
                </div>
              </form>
              <div>
                <h5>Realted</h5>
                <div class="d-flex justify-content-evenly">
                  <button class="sharp-btn">Rent Vs Buy Calculator</button>
                  <button class="sharp-btn">Income Tax Calculator</button>
                  <button class="sharp-btn">Budget Calculator</button>
                </div>
              </div>
            </div>
            <section class="container py-5">
              <div class="row align-items-center">
                <div class="col-md-6">
                  <h2 class="text-center text-md-start mb-4 fw-bold">
                    Fun Facts
                  </h2>
                  <p class="lead text-muted text-md-start">
                    Did you know that the average cost of renting an apartment
                    in the United States has been steadily increasing over the
                    past few years? In fact, according to a recent report by
                    Apartment List, the national average rent increased by 1.1%
                    in 2021, with some cities seeing even higher increases.
                  </p>
                </div>
                <div class="col-md-6">
                  <img
                    src="https://via.placeholder.com/600x400"
                    class="img-fluid rounded"
                    alt="apartments"
                  />
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div
        class="d-flex justify-content-center bg-light align-items-center p-2"
      >
        <p class="text-dark">
          ApRental Inc. | Gainsville,Florida |352-214-6019|
        </p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var sendBtn = document.getElementById("send-btn");
        var messageInput = document.getElementById("message");
        var messagesContainer = document.getElementById("messages");

        sendBtn.addEventListener("click", function (e) {
          e.preventDefault();
          var message = messageInput.value;
          messageInput.value = "";
          if (message !== "") {
            var userMessage =
              '<div class="message user-message"><span class="bg-orange p-1 mb-1  text-white">' +
              message +
              "</span></div>";
            messagesContainer.insertAdjacentHTML("beforeend", userMessage);
            var requestData = {
              model: "gpt-3.5-turbo",
              messages: [{ role: "user", content: message }],
            };
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "https://api.openai.com/v1/chat/completions");
            xhr.setRequestHeader(
              "Authorization",
              "Bearer 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"
            );
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onload = function () {
              if (xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                var botMessage =
                  '<div class="message bot-message"><span class="p-1 mb-1  bg-primary text-white">' +
                  response.choices[0].message.content +
                  "</span></div>";
                messagesContainer.insertAdjacentHTML("beforeend", botMessage);
              } else {
                console.error(xhr.statusText);
              }
            };
            xhr.onerror = function () {
              console.error(xhr.statusText);
            };
            xhr.send(JSON.stringify(requestData));
          }
        });
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
