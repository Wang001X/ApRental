<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./style.css" />
    <title>Apartment Finder</title>
  </head>
  <body>
    <div class="container-fluid">
      <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
        <button
          class="btn-custom rounded-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#collapseChat"
          aria-expanded="false"
          aria-controls="collapseChat"
        >
          Chat BotChat with our ChatGPT powered ChatBot!
        </button>
        <div class="collapse bg-white border rounded-0" id="collapseChat">
          <div class="card card-body mb-2 rounded-0">
            <div class="d-flex flex-column mb-3">
              <div class="bg-orange text-white p-1 mb-1">
                Hi there! How can we help you today?
              </div>
            </div>
            <div id="messages" class="my-4"></div>
            <form>
              <div class="form-group">
                <label for="message">Message:</label>
                <input
                  type="text"
                  class="form-control"
                  id="message"
                  placeholder="Enter message"
                />
              </div>
              <button type="submit" class="btn-custom mt-2" id="send-btn">
                Send
              </button>
            </form>
          </div>
        </div>
      </div>

      <div class="row flex-nowrap">
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
          <div
            class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100"
          >
            <a
              href="/index.html"
              class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none"
            >
              <span class="fs-5 d-none d-sm-inline">AP Rental</span>
            </a>
            <ul
              class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start"
              id="menu"
            >
              <li class="nav-item">
                <a href="/profile.html" class="nav-link align-middle px-0">
                  <i class="fs-4 bi-house"></i>
                  <span class="ms-1 d-none d-sm-inline">My Profile</span>
                </a>
              </li>
              <li>
                <a href="/filter.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline"
                    >Search Appartments</span
                  >
                </a>
              </li>
              <li>
                <a href="/search-map.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline">Search By Map</span>
                </a>
              </li>
              <li>
                <a href="/index.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline"
                    >Rent Affordability Calculator</span
                  >
                </a>
              </li>
              <li>
                <a
                  href="/appartment-details.html"
                  class="nav-link px-0 align-middle"
                >
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline">Apt Pages</span>
                </a>
              </li>
              <li>
                <a href="/contactus.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-speedometer2"></i>
                  <span class="ms-1 d-none d-sm-inline">Contact Us</span>
                </a>
              </li>
              <li>
                <a href="/Sign-up.html" class="nav-link px-0 align-middle">
                  <i class="fs-4 bi-table"></i>
                  <span class="ms-1 d-none d-sm-inline">Logout</span></a
                >
              </li>
            </ul>
          </div>
        </div>
        <div class="col p-0">
          <nav class="navbar navbar-light bg-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img
                  src="./assets/logo.png"
                  alt=""
                  width="60"
                  height="44"
                  class="d-inline-block align-text-top fw-bolder"
                />
                Ap Rental
              </a>
              <ul
                class="navbar-nav d-flex align-item-center flex-row ms-auto mb-2 mb-lg-0"
              >
                <li class="nav-item me-3">
                  <a class="nav-link" href="/profile.html">
                    <i class="fa fa-envelope"></i>
                  </a>
                </li>
                <li class="nav-item me-3">
                  <a class="nav-link" href="/profile.html">
                    <i class="fa fa-bell"></i>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link fw-normal" href="/profile.html">
                    Magnus Prime
                    <img
                      src="./assets/person.png"
                      alt="Profile Logo"
                      class="rounded-circle"
                      width="40"
                      height="40"
                    />
                  </a>
                </li>
              </ul>
            </div>
          </nav>
          <div class="container">
            <h1 class="text-center my-5">MY PROFILE</h1>
            <div class="row">
              <div class="col-md-8">
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed
                  in elit elit. Donec mollis dolor ut velit mollis, vel
                  elementum nisl consectetur. Integer sed nunc non lorem
                  vulputate rutrum. Morbi aliquet urna ac neque maximus aliquet.
                  Nunc blandit erat ut urna imperdiet, vel sodales purus
                  pellentesque. Aliquam dictum purus sit amet dui ultricies
                  pretium. Praesent vel ex a quam molestie iaculis at non elit.
                  Donec eget accumsan sapien. Nunc malesuada enim in faucibus
                  consequat. Curabitur tempor fermentum mauris eu rutrum.
                </p>
              </div>
              <div class="col-md-4">
                <div class="card">
                  <div class="card-header">Chat History</div>
                  <div class="card-body">
                    <p>John: Hi, how are you?</p>
                    <p>Jane: I'm doing well, thanks. How about you?</p>
                    <p>John: Not too bad. Just busy with work.</p>
                    <p>
                      Jane: I know the feeling. I have a lot on my plate too.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="p-2">
            <h1>Recently Viewed</h1>
          </div>

          <div class="p-4">
            <div class="row vh-100 mt-2 overflow-auto">
              <div class="col-6 col-md-4 mb-3">
                <div class="card">
                  <img
                    src="./assets/building.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Apparment 6</h5>
                    <p class="card-text">92 Arcadia Road Brentwood, NY 11717</p>
                    <a href="\appartment-details.html" class="btn-custom"
                      >Go Here</a
                    >
                  </div>
                </div>
              </div>
              <div class="col-6 col-md-4 mb-3">
                <div class="card">
                  <img
                    src="./assets/building.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Apparment 6</h5>
                    <p class="card-text">92 Arcadia Road Brentwood, NY 11717</p>
                    <a href="\appartment-details.html" class="btn-custom"
                      >Go Here</a
                    >
                  </div>
                </div>
              </div>

              <div class="col-6 col-md-4 mb-3">
                <div class="card">
                  <img
                    src="./assets/building.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Apparment 6</h5>
                    <p class="card-text">92 Arcadia Road Brentwood, NY 11717</p>
                    <a href="\appartment-details.html" class="btn-custom"
                      >Go Here</a
                    >
                  </div>
                </div>
              </div>
              <div class="col-6 col-md-4 mb-3">
                <div class="card">
                  <img
                    src="./assets/building.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Apparment 6</h5>
                    <p class="card-text">92 Arcadia Road Brentwood, NY 11717</p>
                    <a href="\appartment-details.html" class="btn-custom"
                      >Go Here</a
                    >
                  </div>
                </div>
              </div>

              <div class="col-6 col-md-4 mb-3">
                <div class="card">
                  <img
                    src="./assets/building.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Apparment 6</h5>
                    <p class="card-text">92 Arcadia Road Brentwood, NY 11717</p>
                    <a href="\appartment-details.html" class="btn-custom"
                      >Go Here</a
                    >
                  </div>
                </div>
              </div>
              <div class="col-6 col-md-4 mb-3">
                <div class="card">
                  <img
                    src="./assets/building.jpg"
                    class="card-img-top"
                    alt="..."
                  />
                  <div class="card-body">
                    <h5 class="card-title">Apparment 6</h5>
                    <p class="card-text">92 Arcadia Road Brentwood, NY 11717</p>
                    <a href="\appartment-details.html" class="btn-custom"
                      >Go Here</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div
        class="d-flex justify-content-center bg-light align-items-center p-2"
      >
        <p class="text-dark">
          ApRental Inc. | Gainsville,Florida |352-214-6019|
        </p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var sendBtn = document.getElementById("send-btn");
        var messageInput = document.getElementById("message");
        var messagesContainer = document.getElementById("messages");

        sendBtn.addEventListener("click", function (e) {
          e.preventDefault();
          var message = messageInput.value;
          messageInput.value = "";
          if (message !== "") {
            var userMessage =
              '<div class="message user-message"><span class="bg-orange p-1 mb-1  text-white">' +
              message +
              "</span></div>";
            messagesContainer.insertAdjacentHTML("beforeend", userMessage);
            var requestData = {
              model: "gpt-3.5-turbo",
              messages: [{ role: "user", content: message }],
            };
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "https://api.openai.com/v1/chat/completions");
            xhr.setRequestHeader(
              "Authorization",
              "Bearer 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"
            );
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onload = function () {
              if (xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                var botMessage =
                  '<div class="message bot-message"><span class="p-1 mb-1  bg-primary text-white">' +
                  response.choices[0].message.content +
                  "</span></div>";
                messagesContainer.insertAdjacentHTML("beforeend", botMessage);
              } else {
                console.error(xhr.statusText);
              }
            };
            xhr.onerror = function () {
              console.error(xhr.statusText);
            };
            xhr.send(JSON.stringify(requestData));
          }
        });
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
